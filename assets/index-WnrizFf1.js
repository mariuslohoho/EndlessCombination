(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}})();function h(e){return K.find(t=>t.id===e)}const K=[{id:0,Name:"Template",Emoji:"♾️",Category:"Template"},{id:100,Name:"Water",Emoji:"💧",Category:"Element"},{id:101,Name:"Fire",Emoji:"🔥",Category:"Element"},{id:102,Name:"Wind",Emoji:"🌬️",Category:"Element"},{id:103,Name:"Earth",Emoji:"🌍",Category:"Element"},{id:120,Name:"Steam",Emoji:"‍💨",Category:"Moisture"},{id:121,Name:"Cloud",Emoji:"☁️",Category:"Moisture"},{id:124,Name:"Wave",Emoji:"🌊",Category:"Water"},{id:132,Name:"Ice",Emoji:"🧊",Category:"Water"},{id:138,Name:"Tsunami",Emoji:"🌊",Category:"Water"},{id:125,Name:"Lava",Emoji:"🌋",Category:"Fire"},{id:128,Name:"Volcano",Emoji:"🌋",Category:"Fire"},{id:136,Name:"Forest Fire",Emoji:"🔥",Category:"Fire"},{id:127,Name:"Tornado",Emoji:"🌪️",Category:"Wind"},{id:135,Name:"Hurricane",Emoji:"🌀",Category:"Wind"},{id:123,Name:"Dust",Emoji:"‍♂️",Category:"Earth"},{id:126,Name:"Mud",Emoji:"‍♂️",Category:"Earth"},{id:129,Name:"Earthquake",Emoji:"🏔️",Category:"Earth"},{id:133,Name:"Stone",Emoji:"🪨",Category:"Earth"},{id:139,Name:"Avalanche",Emoji:"🏔️",Category:"Earth"},{id:130,Name:"Rain",Emoji:"🌧️",Category:"Moisture"},{id:131,Name:"Snow",Emoji:"❄️",Category:"Moisture"},{id:137,Name:"Fog",Emoji:"🌫️",Category:"Moisture"},{id:141,Name:"Oliver Ho The Monkey",Emoji:"🐒🏓",Category:"People"},{id:142,Name:"Oliver Ho",Emoji:"👦🏓",Category:"People"},{id:143,Name:"Oliver",Emoji:"👦",Category:"People"},{id:144,Name:"Olive",Emoji:"🫒",Category:"Plants"},{id:134,Name:"History",Emoji:"📚",Category:"Subjects"},{id:146,Name:"Fruit",Emoji:"🍎",Category:"Plants"},{id:147,Name:"Tree",Emoji:"🌳",Category:"Plants"},{id:148,Name:"Planet",Emoji:"🌏",Category:"Astronomy"},{id:149,Name:"Sun",Emoji:"☀️",Category:"Astronomy"},{id:150,Name:"Plant",Emoji:"🌱",Category:"Plants"},{id:151,Name:"Metal",Emoji:"🪨",Category:"Metal"},{id:152,Name:"Blade",Emoji:"🔪",Category:"Weapon"},{id:153,Name:"Stick",Emoji:"🪵",Category:"Wood"},{id:154,Name:"Tool",Emoji:"🔨",Category:"Tool"},{id:155,Name:"Grass",Emoji:"🌱",Category:"Plant"},{id:156,Name:"Field",Emoji:"🌱",Category:"Plant"},{id:157,Name:"Farming Tool",Emoji:"🔨",Category:"Tool"}];function V(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;e=e.sort(),t=t.sort();for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function Z(e,t){return Q.find(n=>V(n.IngredientIds,[e,t]))}const Q=[{id:0,ProductId:0,IngredientIds:[0,0]},{id:1,ProductId:120,IngredientIds:[100,101]},{id:2,ProductId:121,IngredientIds:[100,120]},{id:4,ProductId:123,IngredientIds:[102,103]},{id:5,ProductId:124,IngredientIds:[100,102]},{id:6,ProductId:125,IngredientIds:[101,103]},{id:7,ProductId:126,IngredientIds:[100,103]},{id:8,ProductId:127,IngredientIds:[102,120]},{id:9,ProductId:128,IngredientIds:[101,121]},{id:10,ProductId:129,IngredientIds:[103,121]},{id:11,ProductId:130,IngredientIds:[100,121]},{id:12,ProductId:131,IngredientIds:[102,123]},{id:13,ProductId:132,IngredientIds:[101,124]},{id:14,ProductId:133,IngredientIds:[100,125]},{id:15,ProductId:134,IngredientIds:[103,125]},{id:16,ProductId:135,IngredientIds:[102,126]},{id:17,ProductId:136,IngredientIds:[101,126]},{id:18,ProductId:137,IngredientIds:[100,127]},{id:19,ProductId:138,IngredientIds:[102,127]},{id:20,ProductId:139,IngredientIds:[103,128]},{id:21,ProductId:141,IngredientIds:[142,142]},{id:22,ProductId:143,IngredientIds:[144,130]},{id:23,ProductId:144,IngredientIds:[134,146]},{id:24,ProductId:145,IngredientIds:[125,103]},{id:25,ProductId:146,IngredientIds:[147,149]},{id:26,ProductId:148,IngredientIds:[123,103]},{id:27,ProductId:149,IngredientIds:[148,101]},{id:28,ProductId:150,IngredientIds:[126,149]},{id:29,ProductId:147,IngredientIds:[150,150]},{id:30,ProductId:151,IngredientIds:[133,101]},{id:31,ProductId:152,IngredientIds:[151,133]},{id:32,ProductId:153,IngredientIds:[152,147]},{id:33,ProductId:154,IngredientIds:[153,151]},{id:34,ProductId:155,IngredientIds:[150,103]},{id:35,ProductId:156,IngredientIds:[155,103]},{id:36,ProductId:157,IngredientIds:[156,154]},{id:37,ProductId:142,IngredientIds:[157,143]}],c=document.getElementById("leftPanel"),P=document.getElementById("rightPanel"),S=document.getElementById("itemsContainer");let N=!1,D=!1,v=[],_=[100,101,102,103],E=[100,101,102,103],W=["eroticism","discriminatory","profanities"],M=!1,x=!1,i,X=!1,L=99;const ee=e=>new Promise(t=>setTimeout(t,e));function $(){let e={Discovered:E,darkMode:M};localStorage.setItem("endless-combination-data",JSON.stringify(e))}function te(){let e=localStorage.getItem("endless-combination-data");if(e!=null){let t=JSON.parse(e);return E=t.Discovered,M=t.darkMode,t}else return{Discovered:E,darkMode:M}}function ne(){S.innerHTML=""}function F(){let e=_;return E.forEach(t=>{const n=h(t);n&&!e.includes(t)&&!W.includes(n.Category.toLowerCase())&&e.push(t)}),e}function R(e){const t=e.getAttribute("ItemId");return t==null?0:parseInt(t)}function H(e,t,n=!1){const o=R(e),s=R(t),d=Z(o,s);if(!d)return null;const r=d.ProductId,u=(e.getBoundingClientRect().x+t.getBoundingClientRect().x)/2,p=(e.getBoundingClientRect().y+t.getBoundingClientRect().y)/2;E.includes(r)||(G(r),E.push(r));const m=document.getElementById("searchInput");if(m==null||m.setAttribute("placeholder",`Search (${F().length}) items...`),!n){const g=B(r,u,p);return c.appendChild(g),j(e),j(t),g.classList.add("inMainWorkspace"),g}return $(),null}function q(e){if(e===null)return;const t=T(e);if(t===null)return;let n=null;t.every(o=>{if(n)return!1;n=H(e,o)})}function T(e){if(e===null)return null;const t=Array.from(c.getElementsByTagName("div"));let n=[];return t.forEach(o=>{o!==e&&C(e,o)&&n.push(o)}),n.length>0?n:null}function C(e,t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return n.x+n.width>=o.x&&n.x<=o.x+o.width&&n.y+n.height>=o.y&&n.y<=o.y+o.height}async function j(e){X=!0,e.style.transition="scale 0.05s ease-out",e.style.scale="0.4",await ee(50),e.remove()}function z(e=""){E.forEach(t=>{const n=h(t);n!=null&&n.Name.includes(e)&&G(t)})}function G(e){let t="";const n=document.getElementById("searchInput");n&&(t=n.value);const o=h(e);if(o!=null&&o.Name.toLowerCase().includes(t.toLowerCase())&&!W.includes(o.Category.toLowerCase())){let s=o==null?void 0:o.Emoji,d=o==null?void 0:o.Name.toString();s=s===void 0?"⛔":s,d=d===void 0?`Error [${e}]`:d;const r=k(s,d);r.setAttribute("itemid",e.toString()),S==null||S.appendChild(r);const u=document.createElement("div");u.classList.add("item-remove"),u.classList.add("hidden");const p=document.createElement("i");p.classList.add("fa-solid"),p.classList.add("fa-x"),u.appendChild(p),r.appendChild(u);const m=u.parentElement;e==100||e==101||e==102||e==103||u.addEventListener("mousedown",()=>{E.splice(E.indexOf(e),1),m==null||m.remove()}),N&&(r.classList.add("mobile-new-made-element"),setTimeout(()=>{r.classList.remove("mobile-new-made-element")},1500)),r.addEventListener("mousedown",a=>{if(!x)if(N){if(N){if(D)return;D=!0,v.length<2?(v.push(r),r.classList.add("mobile-toggled")):(v=[r],r.classList.add("mobile-toggled")),v.length==2&&(H(v[0],v[1],!0),Array.from(P.getElementsByClassName("mobile-toggled")).forEach(l=>{l.classList.remove("mobile-toggled")})),D=!1}}else{const l=B(e,a.clientX,a.clientY);c==null||c.appendChild(l),i=l;const I=r.getBoundingClientRect(),y=a.clientX-I.left,w=a.clientY-I.top;l.dataset.offsetX=y.toString(),l.dataset.offsetY=w.toString();const b=parseInt(l.dataset.offsetX||"0"),A=parseInt(l.dataset.offsetY||"0");l.style.left=`${a.clientX-b}px`,l.style.top=`${a.clientY-A}px`}}),r.addEventListener("touchstart",a=>{if(!x&&!N){const l=B(e,a.touches[0].clientX,a.touches[0].clientY);c==null||c.appendChild(l),i=l;const I=r.getBoundingClientRect(),y=a.touches[0].clientX-I.left,w=a.touches[0].clientY-I.top;l.dataset.offsetX=y.toString(),l.dataset.offsetY=w.toString();const b=parseInt(i.dataset.offsetX||"0"),A=parseInt(i.dataset.offsetY||"0");i.style.left=`${a.touches[0].clientX-b}px`,i.style.top=`${a.touches[0].clientY-A}px`}});const g=document.getElementById("searchInput");g==null||g.setAttribute("placeholder",`Search (${F().length}) items...`)}}function B(e,t,n){var u,p,m,g;const o=((u=h(e))==null?void 0:u.Emoji)===void 0?"⛔":(p=h(e))==null?void 0:p.Emoji,s=((m=h(e))==null?void 0:m.Name)===void 0?"Error [Unnamed]":(g=h(e))==null?void 0:g.Name,d=k(o,s);d.setAttribute("ItemId",e.toString()),d.style.position="fixed",L+=1,d.style.zIndex=L.toString(),d.style.top=n?n-d.clientHeight/2+"px":"",d.style.left=t?t-d.clientWidth/2+"px":"",d.classList.add("dragging"),d.addEventListener("mousedown",a=>{i=d,d.classList.add("dragging"),L+=1,d.style.zIndex=L.toString();const l=i.getBoundingClientRect(),I=a.clientX-l.left,y=a.clientY-l.top;i.dataset.offsetX=I.toString(),i.dataset.offsetY=y.toString(),a.button==2&&j(d)}),d.addEventListener("dblclick",a=>{c.appendChild(B(e,a.clientX,a.clientY))});let r=0;return d.addEventListener("touchstart",async a=>{i=d,d.classList.add("dragging"),L+=1,d.style.zIndex=L.toString();const l=i.getBoundingClientRect(),I=a.touches[0].clientX-l.left,y=a.touches[0].clientY-l.top;i.dataset.offsetX=I.toString(),i.dataset.offsetY=y.toString(),r+=1,setTimeout(()=>{r-=1},300),r==2&&(a.preventDefault(),c.appendChild(B(e,a.touches[0].clientX,a.touches[0].clientY)))}),d}function k(e,t){const n=document.createElement("div");n.classList.add("item");const o=document.createElement("span");o.classList.add("emoji"),o.innerHTML=e,n.appendChild(o);const s=document.createElement("span");return s.classList.add("text"),s.innerHTML=t,n.appendChild(s),n.addEventListener("mousedown",d=>{d.button==2&&(X=!0)}),n}document.addEventListener("mousemove",e=>{if(Array.from(document.getElementsByClassName("colliding")).forEach(t=>{t.classList.remove("colliding")}),i){const t=parseInt(i.dataset.offsetX||"0"),n=parseInt(i.dataset.offsetY||"0");i.style.left=`${e.clientX-t}px`,i.style.top=`${e.clientY-n}px`,i.classList.toggle("inMainWorkspace",!C(i,P));let o=[i];Array.from(c.getElementsByTagName("div")).forEach(s=>{o.includes(s)||(o.push(s),i&&C(i,s)&&(i.classList.add("colliding"),s.classList.add("colliding")))})}});document.addEventListener("mouseup",()=>{const e=T(i);e==null||e.forEach(t=>{t.classList.add("colliding")}),q(i),i=null,[].forEach.call(document.getElementsByClassName("dragging"),t=>{t.classList.remove("dragging"),C(t,P)&&j(t)})});document.addEventListener("contextmenu",e=>{X&&(e.preventDefault(),X=!1)});document.addEventListener("touchmove",e=>{if(Array.from(document.getElementsByClassName("colliding")).forEach(t=>{t.classList.remove("colliding")}),i){const t=parseInt(i.dataset.offsetX||"0"),n=parseInt(i.dataset.offsetY||"0");i.style.left=`${e.touches[0].clientX-t}px`,i.style.top=`${e.touches[0].clientY-n}px`,i.classList.toggle("inMainWorkspace",!C(i,P));let o=[i];Array.from(c.getElementsByTagName("div")).forEach(s=>{o.includes(s)||(o.push(s),i&&C(i,s)&&(i.classList.add("colliding"),s.classList.add("colliding")))})}});document.addEventListener("touchend",()=>{const e=T(i);e==null||e.forEach(t=>{t.classList.add("colliding")}),q(i),i=null,[].forEach.call(document.getElementsByClassName("dragging"),t=>{t.classList.remove("dragging"),C(t,P)&&j(t)})});function J(){const e=window.screen.width,t=window.screen.height;e/t<1?N=!0:N=!1}window.addEventListener("resize",J);var O;(O=document.getElementById("clearCanvasIcon"))==null||O.addEventListener("mousedown",()=>{c.innerHTML=""});const Y=document.querySelector("div.index.draggable-popup"),oe=Y.querySelector("div.popup-title"),ie=document.getElementById("index-close"),U=document.querySelector("div.index.button");ie.addEventListener("mousedown",()=>{Y.toggleAttribute("hidden",!0)});U.addEventListener("mousedown",e=>{e.preventDefault(),Y.toggleAttribute("hidden")});U.toggleAttribute("disabled");let f=null;oe.addEventListener("mousedown",e=>{f=Y;const t=f.getBoundingClientRect(),n=e.clientX-t.left-t.width/2,o=e.clientY-t.top-t.height/2;f.dataset.offsetX=n.toString(),f.dataset.offsetY=o.toString()});document.addEventListener("mouseup",()=>{f=null});document.addEventListener("mousemove",e=>{if(f){const t=parseInt(f.dataset.offsetX||"0"),n=parseInt(f.dataset.offsetY||"0");f.style.left=`${e.clientX-t}px`,f.style.top=`${e.clientY-n}px`}$()});const de=document.getElementById("searchInput");de.addEventListener("input",()=>{ne(),z()});Array.from(document.getElementsByClassName("disabled")).forEach(e=>{e.setAttribute("title","Coming Soon...")});const se=document.getElementById("deleteItemIcon");se.addEventListener("mousedown",()=>{x=!x,P.classList.toggle("delete-mode"),Array.from(document.getElementsByClassName("item-remove")).forEach(e=>{e.classList.toggle("hidden")})});function re(){te(),z(),J()}re();
