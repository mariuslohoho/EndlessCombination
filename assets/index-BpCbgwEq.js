(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const i of d)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(d){const i={};return d.integrity&&(i.integrity=d.integrity),d.referrerPolicy&&(i.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?i.credentials="include":d.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(d){if(d.ep)return;d.ep=!0;const i=n(d);fetch(d.href,i)}})();function g(e){return R.find(t=>t.id===e)}const R=[{id:0,Name:"Template",Emoji:"♾️",Category:"Template"},{id:100,Name:"Water",Emoji:"💧",Category:"Element"},{id:101,Name:"Fire",Emoji:"🔥",Category:"Element"},{id:102,Name:"Wind",Emoji:"🌬️",Category:"Element"},{id:103,Name:"Earth",Emoji:"🌍",Category:"Element"},{id:120,Name:"Steam",Emoji:"‍💨",Category:"Moisture"},{id:121,Name:"Cloud",Emoji:"☁️",Category:"Moisture"},{id:124,Name:"Wave",Emoji:"🌊",Category:"Water"},{id:132,Name:"Ice",Emoji:"🧊",Category:"Water"},{id:138,Name:"Tsunami",Emoji:"🌊",Category:"Water"},{id:134,Name:"Geyser",Emoji:"🌋",Category:"Water"},{id:125,Name:"Lava",Emoji:"🌋",Category:"Fire"},{id:128,Name:"Volcano",Emoji:"🌋",Category:"Fire"},{id:136,Name:"Forest Fire",Emoji:"🔥",Category:"Fire"},{id:127,Name:"Tornado",Emoji:"🌪️",Category:"Wind"},{id:135,Name:"Hurricane",Emoji:"🌀",Category:"Wind"},{id:123,Name:"Dust",Emoji:"‍♂️",Category:"Earth"},{id:126,Name:"Mud",Emoji:"‍♂️",Category:"Earth"},{id:129,Name:"Earthquake",Emoji:"🏔️",Category:"Earth"},{id:133,Name:"Desert",Emoji:"🏜️",Category:"Earth"},{id:139,Name:"Avalanche",Emoji:"🏔️",Category:"Earth"},{id:130,Name:"Rain",Emoji:"🌧️",Category:"Moisture"},{id:131,Name:"Snow",Emoji:"❄️",Category:"Moisture"},{id:137,Name:"Fog",Emoji:"🌫️",Category:"Moisture"}];function F(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;e=e.sort(),t=t.sort();for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function H(e,t){return O.find(n=>F(n.IngredientIds,[e,t]))}const O=[{id:0,ProductId:0,IngredientIds:[0,0]},{id:1,ProductId:120,IngredientIds:[100,101]},{id:2,ProductId:121,IngredientIds:[100,120]},{id:3,ProductId:122,IngredientIds:[102,101]},{id:4,ProductId:123,IngredientIds:[102,103]},{id:5,ProductId:124,IngredientIds:[100,102]},{id:6,ProductId:125,IngredientIds:[101,103]},{id:7,ProductId:126,IngredientIds:[100,103]},{id:8,ProductId:127,IngredientIds:[102,120]},{id:9,ProductId:128,IngredientIds:[101,121]},{id:10,ProductId:129,IngredientIds:[103,121]},{id:11,ProductId:130,IngredientIds:[100,121]},{id:12,ProductId:131,IngredientIds:[102,123]},{id:13,ProductId:132,IngredientIds:[101,124]},{id:14,ProductId:133,IngredientIds:[100,125]},{id:15,ProductId:134,IngredientIds:[103,125]},{id:16,ProductId:135,IngredientIds:[102,126]},{id:17,ProductId:136,IngredientIds:[101,126]},{id:18,ProductId:137,IngredientIds:[100,127]},{id:19,ProductId:138,IngredientIds:[102,127]},{id:20,ProductId:139,IngredientIds:[103,128]}],a=document.getElementById("leftPanel"),L=document.getElementById("rightPanel"),v=document.getElementById("itemsContainer");let h=!1,I=[],X=[100,101,102,103],N=[100,101,102,103],x=["eroticism","discriminatory","profanities"],o,j=!1,y=99;const Y=e=>new Promise(t=>setTimeout(t,e));function z(){v.innerHTML=""}function b(){let e=X;return N.forEach(t=>{const n=g(t);n&&!e.includes(t)&&!x.includes(n.Category.toLowerCase())&&e.push(t)}),e}function P(e){const t=e.getAttribute("ItemId");return t==null?0:parseInt(t)}function A(e,t,n=!1){const r=P(e),d=P(t),i=H(r,d);if(!i)return null;const s=i.ProductId,u=(e.getBoundingClientRect().x+t.getBoundingClientRect().x)/2,c=(e.getBoundingClientRect().y+t.getBoundingClientRect().y)/2;N.includes(s)||(M(s),N.push(s));const l=document.getElementById("searchInput");if(l==null||l.setAttribute("placeholder",`Search (${b().length}) items...`),!n){const E=C(s,u,c);return a.appendChild(E),p(e),p(t),E.classList.add("inMainWorkspace"),E}return null}function S(e){if(e===null)return;const t=w(e);if(t===null)return;let n=null;t.every(r=>{if(n)return!1;n=A(e,r)})}function w(e){if(e===null)return null;const t=Array.from(a.getElementsByTagName("div"));let n=[];return t.forEach(r=>{r!==e&&f(e,r)&&n.push(r)}),n.length>0?n:null}function f(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.x+n.width>=r.x&&n.x<=r.x+r.width&&n.y+n.height>=r.y&&n.y<=r.y+r.height}async function p(e){j=!0,e.style.transition="scale 0.05s ease-out",e.style.scale="0.4",await Y(50),e.remove()}function D(e=""){N.forEach(t=>{const n=g(t);n!=null&&n.Name.includes(e)&&M(t)})}function M(e){let t="";const n=document.getElementById("searchInput");n&&(t=n.value);const r=g(e);if(r!=null&&r.Name.toLowerCase().includes(t.toLowerCase())&&!x.includes(r.Category.toLowerCase())){let d=r==null?void 0:r.Emoji,i=r==null?void 0:r.Name.toString();d=d===void 0?"⛔":d,i=i===void 0?`Error [${e}]`:i;const s=T(d,i);s.setAttribute("itemid",e.toString()),v==null||v.appendChild(s),h&&(s.classList.add("mobile-new-made-element"),setTimeout(()=>{s.classList.remove("mobile-new-made-element")},1500)),s.addEventListener("mousedown",c=>{if(!h){const l=C(e,c.clientX,c.clientY);a==null||a.appendChild(l),o=l}}),s.addEventListener("touchstart",c=>{if(h)h&&(I.length<2?(I.push(s),s.classList.add("mobile-toggled")):(I=[s],s.classList.add("mobile-toggled")),I.length==2&&(A(I[0],I[1],!0),Array.from(L.getElementsByClassName("mobile-toggled")).forEach(l=>{l.classList.remove("mobile-toggled")})));else{const l=C(e,c.touches[0].clientX,c.touches[0].clientY);a==null||a.appendChild(l),o=l}});const u=document.getElementById("searchInput");u==null||u.setAttribute("placeholder",`Search (${b().length}) items...`)}}function C(e,t,n){var u,c,l,E;const r=((u=g(e))==null?void 0:u.Emoji)===void 0?"⛔":(c=g(e))==null?void 0:c.Emoji,d=((l=g(e))==null?void 0:l.Name)===void 0?"Error [Unnamed]":(E=g(e))==null?void 0:E.Name,i=T(r,d);i.setAttribute("ItemId",e.toString()),i.style.position="fixed",y+=1,i.style.zIndex=y.toString(),i.style.top=n?n-i.clientHeight/2+"px":"",i.style.left=t?t-i.clientWidth/2+"px":"",i.classList.add("dragging"),i.addEventListener("mousedown",m=>{o=i,i.classList.add("dragging"),y+=1,i.style.zIndex=y.toString(),m.button==2&&p(i)}),i.addEventListener("dblclick",m=>{a.appendChild(C(e,m.clientX,m.clientY))});let s=0;return i.addEventListener("touchstart",async m=>{o=i,i.classList.add("dragging"),y+=1,i.style.zIndex=y.toString(),s+=1,setTimeout(()=>{s-=1},300),s==2&&(m.preventDefault(),a.appendChild(C(e,m.touches[0].clientX,m.touches[0].clientY)))}),i}function T(e,t){const n=document.createElement("div");n.classList.add("item");const r=document.createElement("span");r.classList.add("emoji"),r.innerHTML=e,n.appendChild(r);const d=document.createElement("span");return d.classList.add("text"),d.innerHTML=t,n.appendChild(d),n.addEventListener("mousedown",i=>{i.button==2&&(j=!0)}),n}document.addEventListener("mousemove",e=>{if(Array.from(document.getElementsByClassName("colliding")).forEach(t=>{t.classList.remove("colliding")}),o){o.style.top=e.clientY-o.clientHeight/2+"px",o.style.left=e.clientX-o.clientWidth/2+"px",o.classList.toggle("inMainWorkspace",!f(o,L));let t=[o];Array.from(a.getElementsByTagName("div")).forEach(n=>{t.includes(n)||(t.push(n),o&&f(o,n)&&(o.classList.add("colliding"),n.classList.add("colliding")))})}});document.addEventListener("mouseup",()=>{const e=w(o);e==null||e.forEach(t=>{t.classList.add("colliding")}),S(o),o=null,[].forEach.call(document.getElementsByClassName("dragging"),t=>{t.classList.remove("dragging"),f(t,L)&&p(t)})});document.addEventListener("contextmenu",e=>{j&&(e.preventDefault(),j=!1)});document.addEventListener("touchmove",e=>{if(Array.from(document.getElementsByClassName("colliding")).forEach(t=>{t.classList.remove("colliding")}),o){o.style.top=e.touches[0].clientY-o.clientHeight/2+"px",o.style.left=e.touches[0].clientX-o.clientWidth/2+"px",o.classList.toggle("inMainWorkspace",!f(o,L));let t=[o];Array.from(a.getElementsByTagName("div")).forEach(n=>{t.includes(n)||(t.push(n),o&&f(o,n)&&(o.classList.add("colliding"),n.classList.add("colliding")))})}});document.addEventListener("touchend",()=>{const e=w(o);e==null||e.forEach(t=>{t.classList.add("colliding")}),S(o),o=null,[].forEach.call(document.getElementsByClassName("dragging"),t=>{t.classList.remove("dragging"),f(t,L)&&p(t)})});function W(){const e=window.screen.width,t=window.screen.height;e/t<1?h=!0:h=!1}window.addEventListener("resize",W);var B;(B=document.getElementById("clearCanvasIcon"))==null||B.addEventListener("mousedown",()=>{a.innerHTML=""});const G=document.querySelector("div.index.button");G.toggleAttribute("disabled");const q=document.getElementById("searchInput");q.addEventListener("input",()=>{z(),D()});Array.from(document.getElementsByClassName("disabled")).forEach(e=>{e.setAttribute("title","Coming Soon...")});function $(){D(),W()}$();
